function d3_scaleExtent(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function d3_scaleRange(a){return a.rangeExtent?a.rangeExtent():d3_scaleExtent(a.range())}function d3_scale_nice(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;f<e&&(g=c,c=d,d=g,g=e,e=f,f=g);if(g=f-e)b=b(g),a[c]=b.floor(e),a[d]=b.ceil(f);return a}function d3_scale_niceDefault(){return Math}function d3_scale_linear(a,b,c,d){function g(){var g=Math.min(a.length,b.length)>2?d3_scale_polylinear:d3_scale_bilinear,i=d?d3_uninterpolateClamp:d3_uninterpolateNumber;return e=g(a,b,i,c),f=g(b,a,i,d3.interpolate),h}function h(a){return e(a)}var e,f;return h.invert=function(a){return f(a)},h.domain=function(b){return arguments.length?(a=b.map(Number),g()):a},h.range=function(a){return arguments.length?(b=a,g()):b},h.rangeRound=function(a){return h.range(a).interpolate(d3.interpolateRound)},h.clamp=function(a){return arguments.length?(d=a,g()):d},h.interpolate=function(a){return arguments.length?(c=a,g()):c},h.ticks=function(b){return d3_scale_linearTicks(a,b)},h.tickFormat=function(b){return d3_scale_linearTickFormat(a,b)},h.nice=function(){return d3_scale_nice(a,d3_scale_linearNice),g()},h.copy=function(){return d3_scale_linear(a,b,c,d)},g()}function d3_scale_linearRebind(a,b){return d3.rebind(a,b,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(a){return a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1),{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function d3_scale_linearTickRange(a,b){var c=d3_scaleExtent(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return f<=.15?e*=10:f<=.35?e*=5:f<=.75&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+e*.5,c[2]=e,c}function d3_scale_linearTicks(a,b){return d3.range.apply(d3,d3_scale_linearTickRange(a,b))}function d3_scale_linearTickFormat(a,b){return d3.format(",."+Math.max(0,-Math.floor(Math.log(d3_scale_linearTickRange(a,b)[2])/Math.LN10+.01))+"f")}function d3_scale_bilinear(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function d3_scale_polylinear(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());while(++g<=h)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=d3.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function d3_scale_log(a,b){function d(c){return a(b(c))}var c=b.pow;return d.invert=function(b){return c(a.invert(b))},d.domain=function(e){return arguments.length?(b=e[0]<0?d3_scale_logn:d3_scale_logp,c=b.pow,a.domain(e.map(b)),d):a.domain().map(c)},d.nice=function(){return a.domain(d3_scale_nice(a.domain(),d3_scale_niceDefault)),d},d.ticks=function(){var d=d3_scaleExtent(a.domain()),e=[];if(d.every(isFinite)){var f=Math.floor(d[0]),g=Math.ceil(d[1]),h=c(d[0]),i=c(d[1]);if(b===d3_scale_logn){e.push(c(f));for(;f++<g;)for(var j=9;j>0;j--)e.push(c(f)*j)}else{for(;f<g;f++)for(var j=1;j<10;j++)e.push(c(f)*j);e.push(c(f))}for(f=0;e[f]<h;f++);for(g=e.length;e[g-1]>i;g--);e=e.slice(f,g)}return e},d.tickFormat=function(a,e){arguments.length<2&&(e=d3_scale_logFormat);if(arguments.length<1)return e;var f=a/d.ticks().length,g=b===d3_scale_logn?(h=-1e-12,Math.floor):(h=1e-12,Math.ceil),h;return function(a){return a/c(g(b(a)+h))<f?e(a):""}},d.copy=function(){return d3_scale_log(a.copy(),b)},d3_scale_linearRebind(d,a)}function d3_scale_logp(a){return Math.log(a<0?0:a)/Math.LN10}function d3_scale_logn(a){return-Math.log(a>0?0:-a)/Math.LN10}function d3_scale_pow(a,b){function e(b){return a(c(b))}var c=d3_scale_powPow(b),d=d3_scale_powPow(1/b);return e.invert=function(b){return d(a.invert(b))},e.domain=function(b){return arguments.length?(a.domain(b.map(c)),e):a.domain().map(d)},e.ticks=function(a){return d3_scale_linearTicks(e.domain(),a)},e.tickFormat=function(a){return d3_scale_linearTickFormat(e.domain(),a)},e.nice=function(){return e.domain(d3_scale_nice(e.domain(),d3_scale_linearNice))},e.exponent=function(a){if(!arguments.length)return b;var f=e.domain();return c=d3_scale_powPow(b=a),d=d3_scale_powPow(1/b),e.domain(f)},e.copy=function(){return d3_scale_pow(a.copy(),b)},d3_scale_linearRebind(e,a)}function d3_scale_powPow(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function d3_scale_ordinal(a,b){function f(b){return d[((c.get(b)||c.set(b,a.push(b)))-1)%d.length]}function g(b,c){return d3.range(a.length).map(function(a){return b+c*a})}var c,d,e;return f.domain=function(d){if(!arguments.length)return a;a=[],c=new d3_Map;var e=-1,g=d.length,h;while(++e<g)c.has(h=d[e])||c.set(h,a.push(h));return f[b.t](b.x,b.p)},f.range=function(a){return arguments.length?(d=a,e=0,b={t:"range",x:a},f):d},f.rangePoints=function(c,h){arguments.length<2&&(h=0);var i=c[0],j=c[1],k=(j-i)/(a.length-1+h);return d=g(a.length<2?(i+j)/2:i+k*h/2,k),e=0,b={t:"rangePoints",x:c,p:h},f},f.rangeBands=function(c,h){arguments.length<2&&(h=0);var i=c[1]<c[0],j=c[i-0],k=c[1-i],l=(k-j)/(a.length+h);return d=g(j+l*h,l),i&&d.reverse(),e=l*(1-h),b={t:"rangeBands",x:c,p:h},f},f.rangeRoundBands=function(c,h){arguments.length<2&&(h=0);var i=c[1]<c[0],j=c[i-0],k=c[1-i],l=Math.floor((k-j)/(a.length+h)),m=k-j-(a.length-h)*l;return d=g(j+Math.round(m/2),l),i&&d.reverse(),e=Math.round(l*(1-h)),b={t:"rangeRoundBands",x:c,p:h},f},f.rangeBand=function(){return e},f.rangeExtent=function(){return d3_scaleExtent(b.x)},f.copy=function(){return d3_scale_ordinal(a,b)},f.domain(a)}function d3_scale_quantile(a,b){function d(){var d=0,f=a.length,g=b.length;c=[];while(++d<g)c[d-1]=d3.quantile(a,d/g);return e}function e(a){return isNaN(a=+a)?NaN:b[d3.bisect(c,a)]}var c;return e.domain=function(b){return arguments.length?(a=b.filter(function(a){return!isNaN(a)}).sort(d3.ascending),d()):a},e.range=function(a){return arguments.length?(b=a,d()):b},e.quantiles=function(){return c},e.copy=function(){return d3_scale_quantile(a,b)},d()}function d3_scale_quantize(a,b,c){function f(b){return c[Math.max(0,Math.min(e,Math.floor(d*(b-a))))]}function g(){return d=c.length/(b-a),e=c.length-1,f}var d,e;return f.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],g()):[a,b]},f.range=function(a){return arguments.length?(c=a,g()):c},f.copy=function(){return d3_scale_quantize(a,b,c)},g()}function d3_scale_identity(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return d3_scale_linearTicks(a,b)},b.tickFormat=function(b){return d3_scale_linearTickFormat(a,b)},b.copy=function(){return d3_scale_identity(a)},b}d3.scale={},d3.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return d3_scale_log(d3.scale.linear(),d3_scale_logp)};var d3_scale_logFormat=d3.format(".0e");d3_scale_logp.pow=function(a){return Math.pow(10,a)},d3_scale_logn.pow=function(a){return-Math.pow(10,-a)},d3.scale.pow=function(){return d3_scale_pow(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(d3_category10)},d3.scale.category20=function(){return d3.scale.ordinal().range(d3_category20)},d3.scale.category20b=function(){return d3.scale.ordinal().range(d3_category20b)},d3.scale.category20c=function(){return d3.scale.ordinal().range(d3_category20c)};var d3_category10=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],d3_category20=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],d3_category20b=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],d3_category20c=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return d3_scale_quantile([],[])},d3.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},d3.scale.identity=function(){return d3_scale_identity([0,1])};